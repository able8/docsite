<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: emapUpload/directUploadCore.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <style>
        .jd-api-title {
            border-left: solid 8px #3e50b4;
            padding-left: 12px;
        }
    </style>
</head>

<body>

<div id="main">
    <!-- <h1 class="page-title">Source: emapUpload/directUploadCore.js </h1> -->

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>(function (UPLOAD) {
    /**
     * @module WIS_EMAP_UPLOAD.directCore
     * @alias 直接上传核心模块
     * @description 这是封装了直接上传逻辑的功能模块，与WIS_UPLOAD_VIEW模块组合在一起构成directUpload组件，现在公有云中使用
     */
    UPLOAD.directCore = $.extend({}, {
        /**
         * @method init
         * @description 初始化
         * @param {Object} element - dom对象
         * @param {Object} options - 配置
         * @param {Object} cbObj - 包含回调函数的对象 init add submit done
         */
        init: function (element, options, cbObj) {
            cbObj = cbObj || {};

            cbObj.init &amp;&amp; cbObj.init();

            this.inputInit(element, options, cbObj);
        },

        // 初始化上传核心模块
        inputInit: function (element, options, cbObj) {
            var formData = $.extend({}, {
                size: options.size,
                type: options.type,
                storeId: options.storeId
            }, options.uploadParam || {});

            var fileInput;
            if ($(element)[0].nodeName === 'INPUT' &amp;&amp; $(element).attr('type') === 'file') {
                fileInput = $(element);
            } else {
                options.fileInput = fileInput = options.fileInput || $('input[type=file]', element);
            }

            fileInput.fileupload({
                url: options.uploadUrl,
                autoUpload: true,
                multiple: true,
                dataType: 'json',
                limitMultiFileUploads: 10,
                formData: formData,
                add: function (e, data) {
                    if (cbObj.add) {
                        cbObj.add(e, data);
                    }
                    data.submit(e, data);
                },
                submit: function (e, data) {
                    if (cbObj.submit) {
                        if (cbObj.submit(e, data) === false) {
                            return false;
                        }
                    }
                },
                done: function (e, data) {
                    if (cbObj.done) {
                        cbObj.done(e, data);
                    }
                },
                fail: function (e, data) {
                    if (cbObj.fail) {
                        cbObj.fail(e, data);
                    }
                },
                progressall: function (e, data) {
                    if(cbObj.progress){
                        cbObj.progress(e, data);
                    }
                }
            });
        }

    }, UPLOAD.directCore || {});

})(WIS_EMAP_UPLOAD = window.WIS_EMAP_UPLOAD || {});</code></pre>
        </article>
    </section>




</div>

<!-- <nav>
    <h2><a href="index.html">Home</a></h2><h3 class="test">Modules</h3><ul><li><a href="module-bhValidate.html">bhValidate</a>&nbsp;(表单校验)</li><li><a href="module-cacheUpload.html">cacheUpload</a>&nbsp;(缓存上传)</li><li><a href="module-directUpload.html">directUpload</a>&nbsp;(直接上传)</li><li><a href="module-emapAdvancedQuery.html">emapAdvancedQuery</a>&nbsp;(高级搜索)</li><li><a href="module-emapBatchEdit.html">emapBatchEdit</a>&nbsp;(批量编辑)</li><li><a href="module-emapConditionConstructor.html">emapConditionConstructor</a>&nbsp;(新的条件构造器)</li><li><a href="module-emapdatatable.html">emapdatatable</a>&nbsp;(表格)</li><li><a href="module-emapDropdownZTree.html">emapDropdownZTree</a>&nbsp;(下拉树)</li><li><a href="module-emapFilterQuery.html">emapFilterQuery</a>&nbsp;(条件搜索)</li><li><a href="module-emapImport.html">emapImport</a>&nbsp;(导入)</li><li><a href="module-emapQuery.html">emapQuery</a>&nbsp;(高级搜索2.0)</li><li><a href="module-emapUpload.html">emapUpload</a>&nbsp;(emap缓存上传)</li><li><a href="module-WIS_EMAP_INPUT.html">WIS_EMAP_INPUT</a>&nbsp;(表单控件公共方法)</li><li><a href="module-WIS_IMPORT_VIEW.html">WIS_IMPORT_VIEW</a>&nbsp;(导入view模块)</li><li><a href="module-WIS_UPLOAD_VIEW.html">WIS_UPLOAD_VIEW</a>&nbsp;(上传视图模块)</li><li><a href="WIS_EMAP_UPLOAD.module_cacheCore.html">cacheCore</a>&nbsp;(缓存上传核心模块)</li><li><a href="WIS_EMAP_UPLOAD.module_directCore.html">directCore</a>&nbsp;(直接上传核心模块)</li></ul>
</nav> -->

<br class="clear">

<!-- <footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Tue Jun 27 2017 15:55:34 GMT+0800 (CST)
</footer> -->

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
